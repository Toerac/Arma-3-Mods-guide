В примере я добавлю кресты на m113
## 1.1 Подготовка
Нужно создать папку мода, в ней создать папку addons и в ней создать папку для пбо, в папке для пбо нужно создать config.cpp и data. Если у вас возникли трудности то стоит прочитать ["2. Структура мода"](2.%20Структура%20мода.md). Я сделал так `@guide\addons\trc_m113`.
Теперь откройте папку addons в rhsusaf и найдите `rhsusf_m113.pbo` , нажмите пкм > открыть при помощи (у меня стоит английский язык на русском скорее всего это будет подругому) > extract all pbo types и тоже самое с `rhsusf_c_m113.pbo`. 

## 1.2 Конфиг
Откойте `rhsusf_c_m113\rhsusf\addons\rhsusf_c_m113` и откройте `config.cpp`, если вы используете notepad++ то нажмите alt+0. Вы видите конфиг для m113 нам нужно развернуть `CfgVehicles` вы видите классы я для примера буду делать ретекстур на m113 с m240 поэтому я скопирую `rhsusf_m113_usarmy_M240` но если вы хотите сделать ретекстур на другой то посмотрите в игре какое имя класса. Теперь откройте ваш файл конфига и добавте 
```cpp
class CfgPatches
{
	class ИМЯ ВАШЕГО ПБО
	{
		units[] = {};
		weapons[] = {};
		requiredVersion = 1.0;
		requiredAddons[] = {"rhsusf_c_m113"};
	};
};
```
Это информация о pbo. 
`units[] = {};` - список обьектов (классы из CfgVehicles. Нужно для зевса)
`weapons[] = {};` - список оружие (классы из CfgWeapons)
`requiredVersion = 1.0;` - Необходимая версия.
`requiredAddons[] = {"rhsusf_c_m113"};` - Необходимые пбо. Названия берутся из CfgPatches НЕ из названия файла!
Добавте 
```cpp
class CfgVehicles
{
	class rhsusf_m113_usarmy_M240;
};
```
В CfgVehicles создаются классы для техники или обьектов. 
Сейчас мы создали класс для [наследования](https://community.bistudio.com/wiki/Class_Inheritance) . Теперь добавте класс для вашего ретекстура после класс для наследования. Имя класса должно быть уникальным иначе арма перезапишет класс на тот который загружен первым (на это влияет `requiredAddons`) это иногда бывает нужно но не сейчас.
```cpp
class CfgVehicles
{
	class rhsusf_m113_usarmy_M240;
	class trc_m113_M240: rhsusf_m113_usarmy_M240
	{
	
	};
};
```
`trc_m113_M240` (Замените на свой!) наследует `rhsusf_m113_usarmy_M240` . Теперь откройте конфиг рхс (`rhsusf_c_m113.pbo`) и посмотрите от чего наследуется `rhsusf_m113_usarmy_M240`разверните класс от которого происходит наследование (`rhsusf_m113tank_base`) и найдите `hiddenSelections[]` и `hiddenSelectionsTextures[]`, скопируйте `hiddenSelections[]` и вставте в `trc_m113_M240`(Замените на свой!) в вашем конфиге. Потом из `rhsusf_m113_usarmy_M240` скопируйте `hiddenSelectionsTextures[]`
```cpp
class CfgVehicles
{
	class rhsusf_m113_usarmy_M240;
	class trc_m113_M240: rhsusf_m113_usarmy_M240
	{
		hiddenSelections[] = {"camo1","camo2","camo3","camo4","camo5","camo6"};
		hiddenSelectionsTextures[] = {
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_01_wd_l_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_02_wd_l_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_03_wd_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_int03_wd_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m23_pintle_wd_co.paa"
		};
	};
};
```
`hiddenSelections[]`  - список селекшенов из модели. Селекшены это части моделей. В списке определяется порядок селекшенов и каким селекшенам можно устоновить текстуры.
`hiddenSelectionsTextures[] ` - текстуры для селекшенов. 1 текстура применяется к 1 указаному селекшену в `hiddenSelections[]` и тд.
Откройте `rhsusf_m113\rhsusf\addons\rhsusf_m113` и перейдите в папку `data_new` после чего просмотрите текстуры которые указаны в конфиге для того чтобы понять какие вам нужно редактировать. (если у вас возникли проблемы с тем чтобы открыть файл текстуры то стоит прочитать ["1. Необходимые инструменты"](1.%20Необходимые%20инструменты.md)) Скопируйте необходимывает текстуры (`m113a3_01_wd_l_co.paa`) в папку `data` вашего мода. (Если вы хотите добавить крест на зеленый вариант то скопируйте `m113a3_01_od_l_co.paa` и замените `m113a3_02_wd_l_co` на `m113a3_02_od_l_co` в конфиге.) Замените `"rhsusf\addons\rhsusf_m113\data_new\m113a3_01_wd_l_co.paa"` на `ВАШЕ ПБО\data\m113a3_01_wd_l_co.paa`.
В конце у вас должен получится такой конфиг (с замененными на ваши значениями):
```cpp
class CfgPatches
{
	class trc_m113
	{
		units[] = {};
		weapons[] = {};
		requiredVersion = 1.0;
		requiredAddons[] = {"rhsusf_c_m113"};
	};
};
class CfgVehicles
{
	class rhsusf_m113_usarmy_M240;
	class trc_m113_M240: rhsusf_m113_usarmy_M240
	{
		hiddenSelections[] = {"camo1","camo2","camo3","camo4","camo5","camo6"};
		hiddenSelectionsTextures[] = {
			"trc_m113\data\m113a3_01_wd_l_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_02_wd_l_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_03_wd_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m113a3_int03_wd_co.paa",
			"rhsusf\addons\rhsusf_m113\data_new\m23_pintle_wd_co.paa"
		};
	};
};
```
## 1.2 Фотошоп
Откройте текстуру в фотошопе. (Если вы не можете открыть paa в фотошопе то прочитайте ["1. Необходимые инструменты"](1.%20Необходимые%20инструменты.md)) Выберете инструмент "Прямоугольник" и поставте белый цвет.

> [!attention] Арма отображает цвета ярче чем вы можете ожидать 
> Никогда не используйте самый яркий цвет и ожидайте что у вас может получится светящийся крест.

Нарисуйте 2 прямоугольника и 1 из них поверните. Измените длину/ширину если нужно.![[Photoshop_1.png]]
Выделете 2 слоя и нажмите ПКМ > Обьеденить фигуры. Теперь скопируйте, вставте и в местах которых посчитаете нужными.
![[Photoshop_2.png]]
Сохраните текстуру.
## 1.3 Сборка PBO
На самом деле ретекстуры можно запаковывать и через pbo manager но все что сложнее этого нужно запаковывать через addon builder/pboProject. Я покажу как использовать addon builder.
Addon builder запускается из arma 3 tools.![[addonbuilder_1.png]]
В `Addons source directory` нужно указать путь к папке которую нужно запаковать. В `Destination directory` нужно указать папку в которой будет пбо файл. Когда все готово нажмите `Pack`.
![[addonbuilder_2.png]]
Если у вас появилась ошибка то прочитайте "[Вступление](Вступление.md)".
## 1.4 Результат
У меня получилось слишком ярко но это можно исправить
![[arma3_1.jpg]]